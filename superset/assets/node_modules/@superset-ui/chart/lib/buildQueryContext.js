"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const buildQueryObject_1 = __importDefault(require("./buildQueryObject"));
const DatasourceKey_1 = require("./DatasourceKey");
const WRAP_IN_ARRAY = (baseQueryObject) => [baseQueryObject];
// Note: let TypeScript infer the return type
function buildQueryContext(formData, buildQuery = WRAP_IN_ARRAY) {
    return {
        datasource: new DatasourceKey_1.DatasourceKey(formData.datasource).toObject(),
        queries: buildQuery(buildQueryObject_1.default(formData)),
    };
}
exports.default = buildQueryContext;
